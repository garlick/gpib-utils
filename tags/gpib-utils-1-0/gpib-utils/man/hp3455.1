.\" This file is part of gpib-utils.
.\" For details, see http://sourceforge.net/projects/gpib-utils.
.\"
.\" Copyright (C) 2005 Jim Garlick <garlick@speakeasy.net>
.\"
.\" gpib-utils is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" gpib-utils is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with gpib-utils; if not, write to the Free Software Foundation, 
.\" Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
.TH hp3455 1  2005-04-05 "" "gpib-utils"
.SH NAME
hp3455 \- control HP 3455A digital voltmeter
.SH SYNOPSIS
.nf
.B hp3455 [\fI-n name\fR] [\fIOPTIONS\fR] [\fI-s nsamples\fR] [\fI-T sampleperiod\fR]

.fi
.SH DESCRIPTION
\fBhp3455\fR controls the HP 3455A digital voltmeter via its GPIB interface.
The instrument is presumed to be attached to GPIB adapter 0 and configured 
with an entry in /etc/gpib.conf (see CONFIGURATION below).
.PP
\fBhp3455\fR first sends a GPIB device clear message, configures 
the front panel controls, then takes the requested number of samples 
(1 by default) and displays them on standard output in two-column format 
with time (seconds) in column one and the reading in column two.  
This output format is suitable for input to \fBgnuplot\fR.
.SH OPTIONS
\fBhp3455\fR accepts the following command line options:
.TP
\fB\-n\fR, \fB\-\-name\fR
Override the name used to look up the device in /etc/gpib.conf.
Default: \fIhp3455\fR.
.TP
\fB\-f\fR, \fB\-\-function\fR 
Set the function to: 
\fIdcv\fR (DC volts), \fIacv\fR (AC volts), \fIfacv\fR (fast AC volts),
\fIkohm2\fR (2-wire kilohms), \fIkohm4\fR (4-wire kilohms), or \fItest\fR.
Default: \fIdcv\fR.
.TP
\fB\-r\fR, \fB\-\-range\fR 
Set the range to:
\fI0.1\fR, \fI1\fR, \fI10\fR, \fI100\fR, \fI1k\fR, \fI10k\fR, or \fIauto\fR.
Default: \fIauto\fR.
.TP
\fB\-t\fR, \fB\-\-trigger\fR 
Set the trigger mode to:
\fIint\fR (internal), \fIext\fR (external), or \fIhold\fR.
Default: \fIint\fR.
.TP
\fB\-a\fR, \fB\-\-autocal\fR 
Set the auto calibration mode \fIon\fR or \fIoff\fR.
Default: \fIon\fR.
.TP
\fB\-h\fR, \fB\-\-highres\fR 
Set the high resolution mode \fIon\fR (6-1/2 digit) or \fIoff\fR (5-1/2 digit).
Highres mode will not work with all acv ranges, the 0.1 dcv range, or the
1k ohm range.
Default: \fIoff\fR.
.TP
\fB\-m\fR, \fB\-\-math\fR 
Set math mode to \fIscale\fR, \fIerr\fR, or \fIoff\fR.
Call the measurement value x:
In scale mode, the reading is (x\-z)/y.
In err mode, the reading is ((x\-y)/y)*100.
Default: \fIoff\fR.
.TP
\fB\-y\fR, \fB\-\-storey\fR 
Store the specified value in the y register.
.TP
\fB\-z\fR, \fB\-\-storez\fR 
Store the specified value in the z register.
.TP
\fB\-s\fR, \fB\-\-samples\fR 
Specify the number of samples to take.
Default: \fI1\fR.
.TP
\fB\-T\fR, \fB\-\-period\fR 
Specify the sample period. 
Send a GPIB trigger command at the requested period (regardless of 
trigger mode).  If the sample period is too short for the instrument 
to respond, the instrument will set the pace.
NOTE: this is a software controlled triggering
mechanism and is unrelated to the front panel hardware sample rate buttons.
Default: \fI0\fR (disabled).
.SH "EXAMPLES"
Take 10 samples 500ms apart using external (GPIB) triggering:
.IP
hp3455 -f dcv -r auto -t ext -T 500 -s 10 >sample.dat
.PP
The following gnuplot commands will plot volts vs. time:
.IP
set xlabel "time (s)"
.br
set ylabel "dc volts (v)"
.br
set xrange[0:]
.br
set yrange[-50:50]
.br
set title "HP 3455A Voltmeter Test"
.br
plot 'sample.dat' title "Sample Plot" with linesp;

.SH "CONFIGURATION"
The /etc/gpib.conf entry for this instrument included the following
parameters eos = 0xa, set-reos = no, set-bin = no, set-xeos = no, 
set-eot = yes, timeout = T30s.
.fi
.SH "SEE ALSO"
gnuplot(1)
.br
HP 3455A Digital Voltmeter Operating and Service Manual
