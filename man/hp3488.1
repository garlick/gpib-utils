.\" This file is part of gpib-utils.
.\" For details, see http://sourceforge.net/projects/gpib-utils.
.\"
.\" Copyright (C) 2005 Jim Garlick <garlick@speakeasy.net>
.\"
.\" gpib-utils is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" gpib-utils is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with gpib-utils; if not, write to the Free Software Foundation, 
.\" Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
.TH hp3488 1  2006-05-13 "" "gpib-utils"
.SH NAME
hp3488 \- control HP 3488A switch/control unit
.SH SYNOPSIS
.nf
.B hp3488 [\fIOPTIONS\fR]
.fi
.SH DESCRIPTION
\fBhp3488\fR controls the HP 3488A switch/control unit via its GPIB interface.
.PP
\fBhp3488\fR performs actions selected on the command line in a fixed sequence:
.IP
.nf
clear
perform self test
list installed options
list valid channels
open channels
close channels
query channel states
start shell
local
.PP
If an action is not selected on the command line, it is not performed.
.SH OPTIONS
\fBhp3488\fR accepts the following command line options:
.TP
\fB\-a\fR, \fB\-\-address\fR address
Override the default instrument address in /etc/gpib-utils.conf.
.TP
\fB\-c\fR, \fB\-\-clear\fR
Clear the instrument, verify its model number, and open all channels.
.TP
\fB\-l\fR, \fB\-\-local\fR
Enable front panel.
.TP
\fB\-S\fR, \fB\-\-selftest\fR 
Perform unit self test.
.TP
\fB\-C\fR, \fB\-\-config\fR \fBm,m,m,m,m\fR
Specify the card models installed in slots 1,2,3,4,5.  ``0'' indicates
that the slot is empty.  
See CARD OPTIONS for a list of valid model numbers.
If this option is not used, 
.B hp3488
will probe the instrument for installed cards.  For models 44471, 44476,
and 44477, this will result in momentary closure of channels 04 and 09 
as this is the only way to tell those cards apart.
.TP
\fB\-x\fR, \fB\-\-showconfig\fR
List the cards installed in each slot including model number, description, 
and the card's range of two-digit channel numbers.
.TP
\fB\-L\fR, \fB\-\-list\fR
List valid channel addresses.
.TP
\fB\-q\fR, \fB\-\-query\fR \fBchannels\fR
Query the state of the specified channels.
See CHANNEL ADDRESSES below.
.TP
\fB\-Q\fR, \fB\-\-queryall\fR
Query the state of all channels.
.TP
\fB\-0\fR, \fB\-\-open\fR \fBchannels\fR
Open the specified channels.
See CHANNEL ADDRESSES below.
.TP
\fB\-1\fR, \fB\-\-close\fR \fBchannels\fR
Close the specified channels.
See CHANNEL ADDRESSES below.
.TP
\fB\-s\fR, \fB\-\-shell\fR
Start an interactive shell. Type ? for help.
.SH "CHANNEL ADDRESSES"
Channel addresses are three digits: a single slot digit (1-5) and two
channel digits.
.PP
Multiple channel addresses may be separated by commas (no spaces), e.g.
``101,102,103,104'', or as a hyphenated range enclosed in square 
brackets, e.g. ``[101-104]'', or a combination, e.g. ``[101-109],[201-209]''
.SH "CARD OPTIONS"
.TP
44470 Relay Multiplexer
.TP
44471 General Purpose Relay
.TP
44472 Dual 4-1 VHF Switch
.TP
44473 4x4 Matrix Switch
.TP
44474 Digital I/O
.TP
44475 Breadboard
.TP
44476 Microwave Switch
.TP
44477 Form C Relay
.TP
44478 1.3GHz Multiplexer
.SH "EXAMPLES"
.nf
# This script toggles a relay (slot 2 channel 01) on and off every 5s
while true; do
    hp3488 -1 201
    sleep 5
    hp3488 -0 201
    sleep 5
done
.fi
.SH FILES
/etc/gpib-utils.conf
.SH "SEE ALSO"
"HP 3488A Switch/Control Unit: Operating, Programming, and Configuration 
Manual", Sept. 1, 1995.
